
// 变量与公用scss
@import "variables";

// ---------------------------- 公用mixin与scss --------------------------------
// 清除浮动
@mixin clearfix() {
  &:before,
  &:after {
    content: " "; // 1
    display: table; // 2
  }
  &:after {
    clear: both;
  }
}

// 获取前一个map值
@function map-prev($map,$key,$keys:map-keys($map)) {
    $n:index($keys,$key);
    @if $n == null or $n == 1 {
        @return null;
    } @else {
        @return nth(map-values($map),$n - 1);
    }
}

// 获取后一个map值
@function map-next($map,$key,$keys:map-keys($map)) {
    $n:index($keys,$key);
    @if $n == null or $n == length($map) {
        @return null;
    } @else {
          @return nth(map-values($map),$n + 1);
    }
}

// 向下媒体查询：小于等于媒体关键字所在范围
@mixin media-down($key,$breakpoints:$media-breakpoints) {
    $prev: map-prev($breakpoints,$key);

    @if $prev {
        @media (max-width:$prev - 1) {
            & {
                @content;
            }
        }
    }
    @else {
        & {
            @content;
        }
    }
}

// 向上媒体查询：大于等于媒体关键字所在范围
@mixin media-up($key,$breakpoints:$media-breakpoints) {
    $next: map-next($media-breakpoints,$key);

    @if $next {
        @media (min-width:map-get($breakpoints,$key)) {
            & {
                @content;
            }
        }
    }
    @else {
        & {
            @content;
        }
    }
}

// 单一媒体查询：仅包含媒体关键字所在范围
@mixin media-only($key,$breakpoints:$media-breakpoints) {
    @include media-up($key,$breakpoints) {
        @include media-down($key,$breakpoints) {
            @content;
        }
    }
}



































